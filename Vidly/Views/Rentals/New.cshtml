

@{
    ViewBag.Title = "New Rental";
}

<h2>New Rental</h2>

<form>
    <div class="form-group">
        <label>Customer</label>
        <input id="customer" type="text" value="" class="typeahead form-control" />
    </div>
    <div class="form-group">
        <label>Movie</label>
        <input type="text" value="" class="form-control" />
    </div>

    <button class="btn btn-primary">Save</button>
</form>



<div>
    @Html.ActionLink("Back to List", "Index")
</div>




@section Scripts {
<script>

    var vm = {};

        var customers = new Bloodhound({
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            remote: {
                url: '/api/customers?query=%QUERY',
                wildcard: '%QUERY'
            }
        });

        $('#customer').typeahead(
            {
                minLength: 3,
                hightLight: true
            }
            , {
                name: 'customers',
                display: 'name',
                source: customers
            }).on("typeahead:select", function (e, customer) {

                vm.customerId = customer.id;

                console.log(vm);

            });

</script>



    @Scripts.Render("~/bundles/jqueryval")
}
